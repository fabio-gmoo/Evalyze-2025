<header class="header">
  <div class="header-content">
    <div class="header-icon">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M4 7h16M4 12h16M4 17h10" stroke="white" stroke-width="2" stroke-linecap="round" />
      </svg>
    </div>
    <div class="header-info">
      <h1>Vacantes</h1>
      @if (viewMode === 'company') {
        <p>Panel para gestionar posiciones con IA.</p>
      }
      @if (viewMode === 'candidate') {
        <p>Explora vacantes y aplica con entrevistas asistidas por IA.</p>
      }
    </div>

    <!-- User Info Section -->
    <div class="user-info">
      @if (user$ | async; as user) {
        <div class="user-menu">
          <div class="user-avatar" (click)="toggleDropdown()">
            {{ userInitials }}
          </div>

          @if (isDropdownOpen) {
            <div class="user-dropdown">
              <div class="dropdown-header">
                <div class="dropdown-avatar">
                  {{ userInitials }}
                </div>
                <div class="dropdown-info">
                  <span class="dropdown-name">{{ userName }}</span>
                  <span class="dropdown-email">{{ user.email }}</span>
                  <span class="dropdown-role">{{
                    user.role === 'company' ? 'Empresa' : 'Candidato'
                  }}</span>
                </div>
              </div>

              <div class="dropdown-divider"></div>

              <button class="dropdown-item logout-btn" (click)="logout()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <polyline
                    points="16 17 21 12 16 7"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <line
                    x1="21"
                    y1="12"
                    x2="9"
                    y2="12"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Cerrar sesi√≥n
              </button>
            </div>
          }
        </div>
      }
    </div>
  </div>
</header>
