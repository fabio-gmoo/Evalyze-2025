<form [formGroup]="form" (ngSubmit)="submit()" novalidate class="form">
  <!-- Selector de tipo de cuenta -->
  <label class="lbl">Tipo de Cuenta</label>
  <div class="segmented">
    <button
      type="button"
      [class.active]="accountType() === 'company'"
      (click)="setAccount('company')"
    >
      üè¢ Empresa
    </button>
    <button
      type="button"
      [class.active]="accountType() === 'candidate'"
      (click)="setAccount('candidate')"
    >
      üë§ Candidato
    </button>
  </div>

  <div class="grid2">
    <!-- CANDIDATO: Nombre Completo -->
    @if (accountType() === 'candidate') {
      <label>
        Nombre Completo
        <input type="text" formControlName="name" placeholder="Tu nombre" />
        @if (form.controls.name.touched && form.controls.name.invalid) {
          <small class="error">Requerido</small>
        }
      </label>
    }

    <!-- Email (com√∫n) -->
    <label>
      Email Corporativo
      <input type="email" formControlName="email" placeholder="tu@empresa.com" />
      @if (form.controls.email.touched && form.controls.email.invalid) {
        <small class="error">Email inv√°lido</small>
      }
    </label>

    <!-- EMPRESA: Empresa -->
    @if (accountType() === 'company') {
      <label>
        Empresa
        <input type="text" formControlName="company" placeholder="Nombre de tu empresa" />
      </label>
    }

    <!-- EMPRESA: Tama√±o -->
    @if (accountType() === 'company') {
      <label>
        Tama√±o de Empresa
        <select formControlName="size">
          <option value="" disabled selected>Selecciona tama√±o</option>
          <option>1-10</option>
          <option>11-50</option>
          <option>51-200</option>
          <option>201-1000</option>
          <option>1000+</option>
        </select>
      </label>
    }

    <!-- Password -->
    <label>
      Contrase√±a
      <div class="pw">
        <input
          [type]="showPw() ? 'text' : 'password'"
          formControlName="password"
          placeholder="M√≠nimo 6 caracteres"
        />
        <button type="button" class="eye" (click)="togglePw()">üëÅ</button>
      </div>
      @if (form.controls.password.touched && form.controls.password.invalid) {
        <small class="error">M√≠nimo 6 caracteres</small>
      }
    </label>

    <!-- Confirm -->
    <label>
      Confirmar Contrase√±a
      <div class="pw">
        <input
          [type]="showCf() ? 'text' : 'password'"
          formControlName="confirm"
          placeholder="Repite tu contrase√±a"
        />
        <button type="button" class="eye" (click)="toggleCf()">üëÅ</button>
      </div>
      @if (
        form.errors?.['mismatch'] &&
        (form.controls.confirm.touched || form.controls.password.touched)
      ) {
        <small class="error">Las contrase√±as no coinciden</small>
      }
    </label>
  </div>

  <label class="tos">
    <input type="checkbox" formControlName="tos" />
    <span>
      Acepto los <a href="#">T√©rminos de Servicio</a> y la
      <a href="#">Pol√≠tica de Privacidad</a>
    </span>
  </label>

  <button class="btn btn--dark" [disabled]="form.invalid">Crear Cuenta y Comenzar Prueba</button>
</form>
